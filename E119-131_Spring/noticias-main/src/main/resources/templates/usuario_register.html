<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

  <head th:replace="fragments/head :: head">
    <title>Registro de Usuario</title>
  </head>

<body>

<div th:replace="fragments/navbar :: navbar"></div>


<div class="container w-25">
  <div class="row justify-content-center">

    <div th:if="${error != null}" class="card text-white bg-danger mb-3 mensajeError mt-5" >
      <div class="card-body">
        <h5 class="card-title">Error!</h5>
        <p class="card-text" th:text="${error}"></p>
      </div>
    </div>
    <div th:if="${exito != null}" class="card text-white bg-success mb-3 mt-3 mensajeExito" >
      <div class="card-body">
        <h5 class="card-title">Exito!</h5>
        <p class="card-text" th:text="${exito}"></p>
      </div>
    </div>

    <div class="card mt-5">
      <div class="card-header text-center"><h4>[[${tituloPagina}]]</h4></div>
      <div class="card-body">

        <form th:if="${session.usuariosession != null}"  th:action="@{/registro}" method="POST" th:object="${usuario}" enctype="multipart/form-data">

          <div  class="form-group">
            <label for="nombreUsuario" class="form-label">Nombre de Usuario</label>
            <input type="text" th:field="*{nombreUsuario}" name="nombreUsuario" class="form-control" placeholder="NOMBRE" id="nombreUsuario" minlength="5" maxlength="30">
          </div>

          <div class="form-group mt-3">
            <label for="password" class="form-label">Ingrese contraseña</label>
            <input type="password" class="form-control" name="password" placeholder="CONTRASEÑA" th:field="*{password}" id="password" minlength="6">
          </div>

          <div class="form-group mt-3">
            <input type="password" class="form-control" name="password2" placeholder="REPETIR CONTRASEÑA" th:value="${password2}" minlength="6">
          </div>

          <div class="text-center mt-5">
            <input type="submit" value="Registrar" class="btn btn-primary btn-sm mr-2" />
            <a th:href="@{/}" class="btn btn-secondary btn-sm">Volver</a>
          </div>

        </form>


        <form th:if="${session.usuariosession == null}"  th:action="@{/registro}" method="POST"  enctype="multipart/form-data">

          <div  class="form-group">
            <label for="nombreUsuario" class="form-label">Nombre de Usuario</label>
            <input type="text" th:value="${nombreUsuario}" name="nombreUsuario" class="form-control" placeholder="NOMBRE" id="nombreUsuario" minlength="5" maxlength="30">
          </div>

          <div class="form-group mt-3">
            <label for="password" class="form-label">Ingrese contraseña</label>
            <input type="password" class="form-control" name="password" placeholder="CONTRASEÑA" th:value="${password}" id="password" minlength="6">
          </div>

          <div class="form-group mt-3">
            <input type="password" class="form-control" name="password2" placeholder="REPETIR CONTRASEÑA" th:value="${password2}" minlength="6">
          </div>

          <div class="text-center mt-5">
            <input type="submit" value="Registrar" class="btn btn-primary btn-sm mr-2" />
            <a th:href="@{/}" class="btn btn-secondary btn-sm">Volver</a>
          </div>

        </form>

      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>

</body>
</html>